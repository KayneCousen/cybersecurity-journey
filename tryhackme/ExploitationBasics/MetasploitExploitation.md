# Room: Metasploit: Exploitation (TryHackMe)

**Date:** 6 Oct 2025  
**Path:** Cyber Security 101  
**Goal:** Use Metasploit for scanning, vulnerability assessment and exploitation; learn msfdb, vulnerability scanning integration, msfvenom usage, and exploitation workflows.

## 1. Key Concepts Learned

* **Scanning with Metasploit**:

  * Metasploit can be used for host discovery and port scanning (integrates with Nmap results).  
  * Auxiliary scanner modules help enumerate services and gather data for exploitation.

* **The Metasploit Database (msfdb / msfconsole integration)**:

  * msfdb stores discovered hosts, services, credentials and loot, enabling persistent workspace data across sessions.  
  * Import Nmap scan results into the database to avoid re-scanning and to drive module selection.

* **Vulnerability Scanning**:

  * Metasploit integrates with vulnerability scanners and supports auxiliary modules that probe for known CVEs.  
  * Use results to identify exploit candidates and prioritize targets.

* **Exploitation Workflow**:

  * Typical flow: discover targets → import to msfdb → search for relevant exploits → configure exploit and payload → exploit → post-exploitation.  
  * Choose payload type (staged vs single) depending on network and target constraints.

* **Msfvenom**:

  * `msfvenom` creates payloads (shellcode, executables, scripts) in various formats and supports encoding/formatting options.  
  * Useful for generating custom payloads for different OS/architectures and for testing delivery methods.

## 2. Commands / Tools Practiced

* `nmap -sV -oX nmap.xml target` and `db_import nmap.xml` (importing scan results into Metasploit DB).  
* `msfdb init` / `msfdb start` — manage the Metasploit database (varies by distro/setup).  
* `msfconsole` — use `search`, `use`, `set RHOSTS`, `set PAYLOAD`, `exploit`.  
* `msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=... LPORT=... -f elf -o shell.elf` — generate a payload.  
* `workspace` and `hosts` / `services` commands inside msfconsole to manage data.

## 3. Takeaways

* Metasploit streamlines exploitation by combining discovery, module selection and payload delivery in a single framework.  
* The internal database is extremely useful for organizing reconnaissance data and avoiding repetitive scans.  
* msfvenom is a flexible payload generation tool, but payload delivery and post-exploitation must be carefully handled in safe lab environments.

## 4. Next Steps

* Practice full exploit chains in a controlled lab: scan, import, exploit, and post-exploit using msfconsole and msfvenom.  
* Explore integrating Metasploit with other tools (Nessus, OpenVAS) and automating workflows with scripts.  
* Learn Meterpreter post-exploitation commands and persistence techniques (lab-only).
